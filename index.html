<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #a7c598; -webkit-text-stroke: #a7c598}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #b76ff7; -webkit-text-stroke: #b76ff7}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none}
    span.s8 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s11 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s12 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s13 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s14 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"ko"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">우주정복모임 아지트</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Pretendard Web Font --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s4"> </span><span class="s2">as</span><span class="s3">=</span><span class="s1">"style"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 귀여운 글씨체 (Gaegu) --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* [테마] 우주 + 4개의 방 */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s8">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span><span class="s1"> </span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #0f172a</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s10">'Pretendard'</span><span class="s8">,</span><span class="s1"> </span><span class="s5">sans-serif</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">user-select:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">-webkit-user-select:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">touch-action:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">canvas</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">display:</span><span class="s1"> </span><span class="s5">block</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* 인트로 화면 */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#intro-gate</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">fixed</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">linear-gradient(</span><span class="s9">135deg</span><span class="s8">,</span><span class="s1"> #1e293b </span><span class="s9">0%</span><span class="s8">,</span><span class="s1"> #0f172a </span><span class="s9">100%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">9999</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">opacity</span><span class="s1"> </span><span class="s9">1s</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.gate-door</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> #334155</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-right:</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #475569</span><span class="s8">;</span><span class="s1"> </span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">transform</span><span class="s1"> </span><span class="s9">1.5s</span><span class="s1"> </span><span class="s5">ease-in-out</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-image:</span><span class="s4"> </span><span class="s5">radial-gradient(</span><span class="s4">#475569 </span><span class="s9">1px</span><span class="s8">,</span><span class="s4"> </span><span class="s5">transparent</span><span class="s4"> </span><span class="s9">1px</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background-size:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.gate-left</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">left:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span><span class="s1"> </span><span class="s2">border-right:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #000</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.gate-right</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">right:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span><span class="s1"> </span><span class="s2">border-left:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #000</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.auth-panel</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">10000</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">15</span><span class="s8">,</span><span class="s4"> </span><span class="s9">23</span><span class="s8">,</span><span class="s4"> </span><span class="s9">42</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.9</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">40px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-radius:</span><span class="s1"> </span><span class="s9">20px</span><span class="s8">;</span><span class="s1"> </span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #3b82f6</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">30px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">59</span><span class="s8">,</span><span class="s1"> </span><span class="s9">130</span><span class="s8">,</span><span class="s1"> </span><span class="s9">246</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-align:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s5">blur(</span><span class="s9">10px</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.auth-panel</span><span class="s4"> </span><span class="s6">h1</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #fff</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-family:</span><span class="s4"> </span><span class="s10">'Gaegu'</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">2rem</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.pass-input</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1.2rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-align:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">120px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">15px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">outline:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> #1e293b</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #fff</span><span class="s8">;</span><span class="s4"> </span><span class="s1">letter-spacing:</span><span class="s4"> </span><span class="s9">5px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.enter-btn</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s5">block</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> #3b82f6</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">color:</span><span class="s4"> </span><span class="s5">white</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transition:</span><span class="s4"> </span><span class="s5">background</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.enter-btn:hover</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> #2563eb</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#blackhole</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">fixed</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translate(</span><span class="s9">-50%</span><span class="s8">,</span><span class="s4"> </span><span class="s9">-50%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s4"> </span><span class="s1">radial-gradient(circle</span><span class="s8">,</span><span class="s4"> #000 </span><span class="s9">0%</span><span class="s8">,</span><span class="s4"> #4c1d95 </span><span class="s9">40%</span><span class="s8">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s9">70%</span><span class="s1">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">9000</span><span class="s8">;</span><span class="s4"> </span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.suck-in</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">suckIn</span><span class="s4"> </span><span class="s9">2s</span><span class="s4"> </span><span class="s1">forwards</span><span class="s4"> </span><span class="s1">ease-in-out</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">suckIn</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translate(</span><span class="s9">-50%</span><span class="s8">,</span><span class="s4"> </span><span class="s9">-50%</span><span class="s5">)</span><span class="s4"> </span><span class="s5">rotate(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">30%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">1</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">100%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">width:</span><span class="s4"> </span><span class="s1">300vmax</span><span class="s8">;</span><span class="s4"> </span><span class="s2">height:</span><span class="s4"> </span><span class="s1">300vmax</span><span class="s8">;</span><span class="s4"> </span><span class="s2">opacity:</span><span class="s4"> </span><span class="s1">1</span><span class="s8">;</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s5">translate(</span><span class="s1">-50%</span><span class="s8">,</span><span class="s4"> </span><span class="s1">-50%</span><span class="s5">)</span><span class="s4"> </span><span class="s5">rotate(</span><span class="s1">720deg</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* UI 레이아웃 */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#ui</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #fff</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">10</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transition:</span><span class="s4"> </span><span class="s5">opacity</span><span class="s4"> </span><span class="s9">1s</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#sim-controls</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">6px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">auto</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#sim-controls</span><span class="s4"> </span><span class="s1">button</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s4"> </span><span class="s9">255</span><span class="s8">,</span><span class="s4"> </span><span class="s9">255</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.2</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4"> </span><span class="s9">14px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.9rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #fff</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s9">700</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transition:</span><span class="s4"> </span><span class="s5">all</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s8">;</span><span class="s4"> </span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s5">blur(</span><span class="s9">4px</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#sim-controls</span><span class="s4"> </span><span class="s1">button:hover</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.4</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s5">translateY(</span><span class="s9">-1px</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* 우주 댄스 버튼 효과 */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#btn-space-dance</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #fbbf24 </span><span class="s11">!important</span><span class="s8">;</span><span class="s1"> </span><span class="s2">border-color:</span><span class="s1"> #fbbf24 </span><span class="s11">!important</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#btn-space-dance:hover</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">251</span><span class="s8">,</span><span class="s1"> </span><span class="s9">191</span><span class="s8">,</span><span class="s1"> </span><span class="s9">36</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.2</span><span class="s5">)</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s1"> </span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">15px</span><span class="s1"> #fbbf24</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#mailbox-icon</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">right:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">150px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">50px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">60px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #ef4444</span><span class="s8">;</span><span class="s1"> </span><span class="s2">border:</span><span class="s1"> </span><span class="s9">3px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #b91c1c</span><span class="s8">;</span><span class="s1"> </span><span class="s2">border-radius:</span><span class="s1"> </span><span class="s9">8px</span><span class="s1"> </span><span class="s9">8px</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">25</span><span class="s8">;</span><span class="s4"> </span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">15px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">239</span><span class="s8">,</span><span class="s4"> </span><span class="s9">68</span><span class="s8">,</span><span class="s4"> </span><span class="s9">68</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.4</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">transition:</span><span class="s4"> </span><span class="s5">transform</span><span class="s4"> </span><span class="s9">0.1s</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#mailbox-icon:active</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s5">scale(</span><span class="s9">0.95</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#mailbox-icon::after</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">content:</span><span class="s4"> </span><span class="s10">'✉️'</span><span class="s8">;</span><span class="s4"> </span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translate(</span><span class="s9">-50%</span><span class="s8">,</span><span class="s4"> </span><span class="s9">-50%</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">28px</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#input-bar</span><span class="s1"> </span><span class="s8">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">fixed</span><span class="s8">;</span><span class="s4"> </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translateX(</span><span class="s9">-50%</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">95%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">max-width:</span><span class="s4"> </span><span class="s9">700px</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s4"> </span><span class="s9">255</span><span class="s8">,</span><span class="s4"> </span><span class="s9">255</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.95</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">12px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50px</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">30px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">6px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">30</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s5">blur(</span><span class="s9">10px</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">select</span><span class="s8">,</span><span class="s4"> </span><span class="s1">#msg-input</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #e2e8f0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> #fff</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-family:</span><span class="s4"> </span><span class="s10">'Pretendard'</span><span class="s8">;</span><span class="s4"> </span><span class="s1">outline:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.9rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #334155</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">select</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s8">;</span><span class="s4"> </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background-color:</span><span class="s4"> #f8fafc</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#msg-input</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">flex:</span><span class="s1"> </span><span class="s9">1</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#send-btn</span><span class="s1"> </span><span class="s8">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> #6366f1</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> </span><span class="s5">white</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">42px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">42px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1.2rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">99</span><span class="s8">,</span><span class="s4"> </span><span class="s9">102</span><span class="s8">,</span><span class="s4"> </span><span class="s9">241</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">flex-shrink:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#guide-text</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">right:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">text-align:</span><span class="s4"> </span><span class="s5">right</span><span class="s8">;</span><span class="s4"> </span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">5</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#guide-text</span><span class="s4"> </span><span class="s6">h2</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #fbbf24</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-family:</span><span class="s4"> </span><span class="s10">'Gaegu'</span><span class="s8">,</span><span class="s4"> </span><span class="s5">cursive</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1.5rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">text-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">251</span><span class="s8">,</span><span class="s4"> </span><span class="s9">191</span><span class="s8">,</span><span class="s4"> </span><span class="s9">36</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#guide-text</span><span class="s4"> </span><span class="s6">p</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #cbd5e1</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.9rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">5px</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>@</span><span class="s6">media</span><span class="s1"> (</span><span class="s6">max-width:</span><span class="s1"> 768</span><span class="s6">px</span><span class="s1">) </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span>#ui { </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">15px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translateX(</span><span class="s9">-50%</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">95%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">#guide-text</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s6">#input-bar</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">flex-wrap:</span><span class="s4"> </span><span class="s5">wrap</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">#input-bar</span><span class="s1"> </span><span class="s6">select</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">width:</span><span class="s1"> </span><span class="s9">48%</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">#input-bar</span><span class="s4"> </span><span class="s1">#msg-input</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">width:</span><span class="s4"> </span><span class="s9">85%</span><span class="s8">;</span><span class="s4"> </span><span class="s2">margin-top:</span><span class="s4"> </span><span class="s9">5px</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.modal-window</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> #fff</span><span class="s8">;</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #333</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.post-it-card</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-family:</span><span class="s4"> </span><span class="s10">'Gaegu'</span><span class="s8">,</span><span class="s4"> </span><span class="s5">cursive</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> #fffbeb</span><span class="s8">;</span><span class="s4"> </span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">2px</span><span class="s4"> </span><span class="s9">2px</span><span class="s4"> </span><span class="s9">5px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.spinner</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s9">3px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #f3f3f3</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-top:</span><span class="s4"> </span><span class="s9">3px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> #3b82f6</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">animation:</span><span class="s4"> </span><span class="s5">spin</span><span class="s4"> </span><span class="s9">1s</span><span class="s4"> </span><span class="s5">linear</span><span class="s4"> </span><span class="s5">infinite</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> </span><span class="s5">auto</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">spin</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s9">0%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s9">100%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">360deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.tutorial-overlay</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">position:</span><span class="s4"> </span><span class="s5">fixed</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.7</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">9990</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.tutorial-box</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> </span><span class="s5">white</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">16px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">280px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">text-align:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">40px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">float</span><span class="s4"> </span><span class="s9">2s</span><span class="s4"> </span><span class="s1">infinite</span><span class="s4"> </span><span class="s1">ease-in-out</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.tutorial-box::after</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">content:</span><span class="s4"> </span><span class="s10">''</span><span class="s8">;</span><span class="s4"> </span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">-10px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translateX(</span><span class="s9">-50%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">border-width:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s2">border-style:</span><span class="s4"> </span><span class="s1">solid</span><span class="s8">;</span><span class="s4"> </span><span class="s2">border-color:</span><span class="s4"> </span><span class="s1">white</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s1">transparent</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.tuto-btn</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> #3b82f6</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> </span><span class="s5">white</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4"> </span><span class="s9">16px</span><span class="s8">;</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s4"> </span><span class="s1">float</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s9">0%</span><span class="s8">,</span><span class="s4"> </span><span class="s9">100%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translateY(</span><span class="s9">0</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s9">50%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translateY(</span><span class="s9">-10px</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.highlight</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">9991</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s1">position:</span><span class="s4"> </span><span class="s5">relative</span><span class="s8">;</span><span class="s4"> </span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> #fbbf24</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> #fbbf24</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 인트로 화면 --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"intro-gate"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"gate-door gate-left"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"gate-door gate-right"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"auth-panel"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"auth-panel"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s3">&gt;</span><span class="s1">🔒 Restricted Area</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:#94a3b8; font-size:0.9rem; margin-bottom:15px;"</span><span class="s3">&gt;</span><span class="s4">우주정복자 승인 코드 입력</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"password"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"gate-pass"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"pass-input"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"****"</span><span class="s4"> </span><span class="s2">maxlength</span><span class="s3">=</span><span class="s1">"4"</span><span class="s4"> </span><span class="s2">onkeypress</span><span class="s3">=</span><span class="s1">"if(event.key==='Enter') unlockGate()"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"enter-btn"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"unlockGate()"</span><span class="s3">&gt;</span><span class="s4">ENTER</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"login-msg"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:#ef4444; font-size:0.8rem; margin-top:10px; height:1rem;"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"blackhole"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 튜토리얼 오버레이 --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tutorial-overlay"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tutorial-overlay"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tutorial-box"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tutorial-box"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tuto-title"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin:0 0 10px 0; font-family:'Gaegu'; font-size:1.4rem;"</span><span class="s3">&gt;</span><span class="s4">환영합니다!</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tuto-desc"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:#64748b; font-size:0.95rem; line-height:1.5;"</span><span class="s3">&gt;</span><span class="s4">우주정복모임 아지트에 오신 것을</span><span class="s3">&lt;</span><span class="s6">br</span><span class="s3">&gt;</span><span class="s4">환영합니다! 🚀</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tuto-btn"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"nextTutorial()"</span><span class="s3">&gt;</span><span class="s4">다음</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- 메인 UI --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"ui"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"sim-controls"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"togglePause()"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-pause"</span><span class="s3">&gt;</span><span class="s4">⏸</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"restartTutorial()"</span><span class="s4"> </span><span class="s2">title</span><span class="s3">=</span><span class="s1">"튜토리얼 다시보기"</span><span class="s3">&gt;</span><span class="s4">❓</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- [NEW] 우주 댄스 버튼 --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"triggerSpaceDance()"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-space-dance"</span><span class="s4"> </span><span class="s2">title</span><span class="s3">=</span><span class="s1">"우주 댄스 파티!"</span><span class="s3">&gt;</span><span class="s4">🛸</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"guide-text"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s3">&gt;</span><span class="s1">🪐 우주정복모임</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">우주정복자를 위한 공간입니다.</span><span class="s3">&lt;</span><span class="s6">br</span><span class="s3">&gt;</span><span class="s1">타코를 건드리면 화를 낼지도 몰라요!</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"mailbox-icon"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"openMyMsgModal()"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"input-bar"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"sender-select"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"익명"</span><span class="s3">&gt;</span><span class="s1">🕶️ 익명</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"임승연"</span><span class="s3">&gt;</span><span class="s1">임승연</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"김윤영"</span><span class="s3">&gt;</span><span class="s1">김윤영</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"심하연"</span><span class="s3">&gt;</span><span class="s1">심하연</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"정소영"</span><span class="s3">&gt;</span><span class="s1">정소영</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-size:1.2rem; color:#cbd5e1;"</span><span class="s3">&gt;</span><span class="s4">➡</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"receiver-select"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"ALL"</span><span class="s3">&gt;</span><span class="s1">📢 모두에게</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"임승연"</span><span class="s3">&gt;</span><span class="s1">임승연</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"김윤영"</span><span class="s3">&gt;</span><span class="s1">김윤영</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"심하연"</span><span class="s3">&gt;</span><span class="s1">심하연</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">option</span><span class="s1"> </span><span class="s2">value</span><span class="s3">=</span><span class="s5">"정소영"</span><span class="s3">&gt;</span><span class="s1">정소영</span><span class="s3">&lt;/</span><span class="s6">option</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"msg-input"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"메시지를 입력하세요"</span><span class="s4"> </span><span class="s2">maxlength</span><span class="s3">=</span><span class="s1">"50"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s1">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"send-btn"</span><span class="s3">&gt;</span><span class="s4">➤</span><span class="s3">&lt;/</span><span class="s1">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"canvas"</span><span class="s3">&gt;&lt;/</span><span class="s1">canvas</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modal-overlay"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:90;"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"my-msg-modal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"modal-window"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); width:340px; height:550px; background:white; border-radius:20px; z-index:100; flex-direction:column; overflow:hidden;"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"padding:15px; border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center; background:#f1f5f9;"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-weight:bold; color:#333; font-family:'Gaegu'; font-size:1.2rem;"</span><span class="s3">&gt;</span><span class="s4">📬 우편함</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"cursor:pointer; font-size:1.5rem;"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"closeModal()"</span><span class="s3">&gt;</span><span class="s4">×</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"flex:1; overflow-y:auto; padding:15px; background:#fff;"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"msg-list-container"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"padding:15px; background:white; border-top:1px solid #eee; display:flex; gap:5px; flex-direction:column;"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-size:0.8rem; color:#64748b; margin-bottom:5px;"</span><span class="s3">&gt;</span><span class="s4">아래에 이름을 입력하고 확인 버튼을 눌러주세요.</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"display:flex; gap:5px;"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"my-name-auth"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"내 이름 (예: 심하연)"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"flex:1; padding:12px; border:1px solid #cbd5e1; border-radius:12px; font-family:'Pretendard';"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"checkMyMessages()"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"background:#6366f1; color:white; border:none; padding:0 20px; border-radius:12px; cursor:pointer; font-weight:bold;"</span><span class="s3">&gt;</span><span class="s4">확인</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s4"> </span><span class="s12">GOOGLE_SCRIPT_URL</span><span class="s4"> </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"https://script.google.com/macros/s/AKfycbw-u6iH46kKf2_G_HXgG3EturUy2-1bIh7sTeocAKPZ1rWpaKso2VPN53-8WSsP6kEe5A/exec"</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> canvas </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'canvas'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> ctx </span><span class="s8">=</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">getContext</span><span class="s8">(</span><span class="s10">'2d'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> width</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// 상태 변수</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> particles </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> humans </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> animals </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> hearts </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> isPaused </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> isInitialized </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// [NEW] 우주 댄스 모드 변수</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> isSpaceMode </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> spaceModeTimer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 설정 값 ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> </span><span class="s12">CONFIG</span><span class="s1"> </span><span class="s8">=</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>text</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'우주정복모임'</span><span class="s8">,</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span>colors</span><span class="s8">:</span><span class="s4"> </span><span class="s8">[</span><span class="s1">'#ffffff'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#fbbf24'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#f87171'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#60a5fa'</span><span class="s8">]</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">};</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s4"> </span><span class="s1">HUMAN_TYPES</span><span class="s4"> </span><span class="s8">=</span><span class="s4"> </span><span class="s8">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'임승연'</span><span class="s8">,</span><span class="s1"> hair</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'SHORT'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#002a30'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">0</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s14">// Room 0: TL</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'김윤영'</span><span class="s8">,</span><span class="s1"> hair</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'BOB'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#f0f8ff'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s8">},</span><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s14">// Room 1: TR</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'심하연'</span><span class="s8">,</span><span class="s1"> hair</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'PONYTAIL'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#000080'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">2</span><span class="s1"> </span><span class="s8">},</span><span class="s14">// Room 2: BL</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'정소영'</span><span class="s8">,</span><span class="s1"> hair</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'MEDIUM'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#0047ab'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">3</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s14">// Room 3: BR</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">];</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// [FIX] 동물 방 배정 설정</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s4"> </span><span class="s1">ANIMAL_TYPES</span><span class="s4"> </span><span class="s8">=</span><span class="s4"> </span><span class="s8">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'CAT'</span><span class="s8">,</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'타코'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#9ca3af'</span><span class="s8">,</span><span class="s1"> ear</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'POINTY'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">0</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s14">// 승연방</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'POODLE'</span><span class="s8">,</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'코코'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#854d0e'</span><span class="s8">,</span><span class="s1"> ear</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'PUFFY'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s14">// 윤영방</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'COCKER1'</span><span class="s8">,</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'황토코카'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#d97706'</span><span class="s8">,</span><span class="s1"> ear</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'LONG'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">3</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s14">// 소영방</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'COCKER2'</span><span class="s8">,</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'얼룩코카'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#e5e7eb'</span><span class="s8">,</span><span class="s1"> sub</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#4b5563'</span><span class="s8">,</span><span class="s1"> ear</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'LONG_MIX'</span><span class="s8">,</span><span class="s1"> room</span><span class="s8">:</span><span class="s1"> </span><span class="s13">3</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s14">// 소영방</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">];</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// 암호 및 인트로 로직</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> unlockGate</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> pass </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'gate-pass'</span><span class="s8">).</span><span class="s1">value</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> msg </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'login-msg'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">pass </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'1218'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>msg</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">''</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'auth-panel'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> bh </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'blackhole'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>bh</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'suck-in'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'intro-gate'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'0'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'intro-gate'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'blackhole'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>startGame</span><span class="s8">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">},</span><span class="s1"> </span><span class="s13">1000</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">},</span><span class="s1"> </span><span class="s13">1500</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>msg</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'접근 거부: 암호가 일치하지 않습니다.'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> panel </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'auth-panel'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>panel</span><span class="s8">.</span><span class="s1">animate</span><span class="s8">([{</span><span class="s1"> transform</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'translateX(0)'</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> transform</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'translateX(-10px)'</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> transform</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'translateX(10px)'</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> transform</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'translateX(0)'</span><span class="s1"> </span><span class="s8">}],</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> duration</span><span class="s8">:</span><span class="s1"> </span><span class="s13">300</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> startGame</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(!</span><span class="s1">isInitialized</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>init</span><span class="s8">();</span><span class="s1"> drawScene</span><span class="s8">();</span><span class="s1"> isInitialized </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'ui'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'1'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'guide-text'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'1'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'input-bar'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'1'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'mailbox-icon'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'1'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> runTutorial</span><span class="s8">();</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s13">1000</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// 튜토리얼 로직</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">let</span><span class="s1"> tutoStep </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> tutoSteps </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s4"> title</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"우주정복자님 환영해요! 👋"</span><span class="s8">,</span><span class="s4"> desc</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"이곳은 우리들만의 비밀 아지트입니다.&lt;br&gt;각자의 방에서 쉬고 있는 친구들을 구경하세요."</span><span class="s8">,</span><span class="s4"> target</span><span class="s8">:</span><span class="s4"> </span><span class="s11">null</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s4"> title</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"익명 메시지 전송 📨"</span><span class="s8">,</span><span class="s4"> desc</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"여기서 친구에게(혹은 모두에게)&lt;br&gt;하고 싶은 말을 &lt;b&gt;익명&lt;/b&gt;으로 보낼 수 있어요."</span><span class="s8">,</span><span class="s4"> target</span><span class="s8">:</span><span class="s4"> </span><span class="s1">'input-bar'</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s4"> title</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"우편함 확인 📮"</span><span class="s8">,</span><span class="s4"> desc</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"나에게 온 편지는 여기서 확인하세요.&lt;br&gt;이름을 입력하면 내 편지를 모아줍니다."</span><span class="s8">,</span><span class="s4"> target</span><span class="s8">:</span><span class="s4"> </span><span class="s1">'mailbox-icon'</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s4"> title</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"터치해보세요! 👆"</span><span class="s8">,</span><span class="s4"> desc</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"친구들이나 강아지를 누르면 하트가 나와요.&lt;br&gt;하지만 &lt;b&gt;타코(고양이)&lt;/b&gt;는 조심하세요!&lt;br&gt;할퀼지도 모릅니다. 😾"</span><span class="s8">,</span><span class="s4"> target</span><span class="s8">:</span><span class="s4"> </span><span class="s11">null</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s8">{</span><span class="s4"> title</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"우주 댄스 파티! 🛸"</span><span class="s8">,</span><span class="s4"> desc</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"왼쪽 위의 &lt;b&gt;UFO 버튼&lt;/b&gt;을 눌러보세요.&lt;br&gt;모두가 우주복을 입고 춤을 춥니다! 💃🕺"</span><span class="s8">,</span><span class="s4"> target</span><span class="s8">:</span><span class="s4"> </span><span class="s1">'btn-space-dance'</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">];</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> runTutorial</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> tutoStep </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'tutorial-overlay'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span><span class="s1"> updateTutorial</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> restartTutorial</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> runTutorial</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> updateTutorial</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> step </span><span class="s8">=</span><span class="s1"> tutoSteps</span><span class="s8">[</span><span class="s1">tutoStep</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> box </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'tutorial-box'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> title </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'tuto-title'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> desc </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'tuto-desc'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> prev </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">querySelector</span><span class="s8">(</span><span class="s10">'.highlight'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">prev</span><span class="s8">)</span><span class="s1"> prev</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'highlight'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>title</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> step</span><span class="s8">.</span><span class="s1">title</span><span class="s8">;</span><span class="s1"> desc</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> step</span><span class="s8">.</span><span class="s1">desc</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">step</span><span class="s8">.</span><span class="s1">target</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> el </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s1">step</span><span class="s8">.</span><span class="s1">target</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>el</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'highlight'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rect </span><span class="s8">=</span><span class="s1"> el</span><span class="s8">.</span><span class="s1">getBoundingClientRect</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> top </span><span class="s8">=</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">top </span><span class="s8">-</span><span class="s1"> </span><span class="s13">180</span><span class="s8">;</span><span class="s1"> </span><span class="s11">let</span><span class="s1"> left </span><span class="s8">=</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">left </span><span class="s8">+</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">width</span><span class="s8">/</span><span class="s13">2</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s13">140</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">left </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">10</span><span class="s8">)</span><span class="s1"> left </span><span class="s8">=</span><span class="s1"> </span><span class="s13">10</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">left </span><span class="s8">+</span><span class="s1"> </span><span class="s13">280</span><span class="s1"> </span><span class="s8">&gt;</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerWidth</span><span class="s8">)</span><span class="s1"> left </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerWidth </span><span class="s8">-</span><span class="s1"> </span><span class="s13">290</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">top </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">50</span><span class="s8">)</span><span class="s1"> top </span><span class="s8">=</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">bottom </span><span class="s8">+</span><span class="s1"> </span><span class="s13">20</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>box</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">top </span><span class="s8">=</span><span class="s1"> top </span><span class="s8">+</span><span class="s1"> </span><span class="s10">'px'</span><span class="s8">;</span><span class="s1"> box</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">left </span><span class="s8">=</span><span class="s1"> left </span><span class="s8">+</span><span class="s1"> </span><span class="s10">'px'</span><span class="s8">;</span><span class="s1"> box</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">transform </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>box</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">top </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'50%'</span><span class="s8">;</span><span class="s1"> box</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">left </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'50%'</span><span class="s8">;</span><span class="s1"> box</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">transform </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'translate(-50%, -50%)'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> nextTutorial</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tutoStep</span><span class="s8">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">tutoStep </span><span class="s8">&gt;=</span><span class="s1"> tutoSteps</span><span class="s8">.</span><span class="s1">length</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'tutorial-overlay'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> prev </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">querySelector</span><span class="s8">(</span><span class="s10">'.highlight'</span><span class="s8">);</span><span class="s1"> </span><span class="s11">if</span><span class="s8">(</span><span class="s1">prev</span><span class="s8">)</span><span class="s1"> prev</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'highlight'</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> updateTutorial</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 그래픽 유틸리티 ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">,</span><span class="s1"> r</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">w </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> r</span><span class="s8">)</span><span class="s1"> r </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">h </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> r</span><span class="s8">)</span><span class="s1"> r </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> r</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arcTo</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> x </span><span class="s8">+</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">,</span><span class="s1"> r</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arcTo</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">,</span><span class="s1"> x</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">,</span><span class="s1"> r</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arcTo</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">,</span><span class="s1"> x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> r</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arcTo</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> x </span><span class="s8">+</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> r</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">closePath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- 방 그리기 ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawRooms</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> width</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// 우주 모드일 땐 방 배경을 어둡게</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isSpaceMode</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'rgba(0,0,0,0.8)'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s1">width</span><span class="s8">,</span><span class="s1">height</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> rw </span><span class="s8">=</span><span class="s1"> width </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rh </span><span class="s8">=</span><span class="s1"> height </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>drawSeungyeonRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> rw</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>drawYunyoungRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> rw</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> rw</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>drawHayeonRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">,</span><span class="s1"> rw</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>drawSoyoungRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> rw</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">,</span><span class="s1"> rw</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'rgba(255,255,255,0.1)'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s1">rw</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">rw</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">width</span><span class="s8">,</span><span class="s1"> rh</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawSeungyeonRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#0f2f36'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#0b2329'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#1a4d55'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s13">20</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s13">30</span><span class="s8">,</span><span class="s1"> </span><span class="s13">80</span><span class="s8">,</span><span class="s1"> </span><span class="s13">50</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#2f6f7a'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s13">20</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">120</span><span class="s8">,</span><span class="s1"> </span><span class="s13">80</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#e0f2f1'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s13">30</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">40</span><span class="s8">,</span><span class="s1"> </span><span class="s13">20</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawYunyoungRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#e6f2ff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#cce5ff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> w</span><span class="s8">/</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">80</span><span class="s8">,</span><span class="s1"> </span><span class="s13">40</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#99ccff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> w </span><span class="s8">-</span><span class="s1"> </span><span class="s13">120</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s13">40</span><span class="s8">,</span><span class="s1"> </span><span class="s13">100</span><span class="s8">,</span><span class="s1"> </span><span class="s13">60</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawHayeonRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#1a237e'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#0d1642'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#283593'</span><span class="s8">;</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> x </span><span class="s8">+</span><span class="s1"> </span><span class="s13">50</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s13">20</span><span class="s8">,</span><span class="s1"> </span><span class="s13">100</span><span class="s8">,</span><span class="s1"> </span><span class="s13">60</span><span class="s8">,</span><span class="s1"> </span><span class="s13">10</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#000'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> w</span><span class="s8">/</span><span class="s13">2</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s13">40</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> </span><span class="s13">50</span><span class="s8">,</span><span class="s1"> </span><span class="s13">80</span><span class="s8">,</span><span class="s1"> </span><span class="s13">60</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s1">x</span><span class="s8">+</span><span class="s1">w</span><span class="s8">/</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">+</span><span class="s13">80</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#3949ab'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> w </span><span class="s8">-</span><span class="s1"> </span><span class="s13">120</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">100</span><span class="s8">,</span><span class="s1"> </span><span class="s13">50</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawSoyoungRoom</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#0047ab'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#003380'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.6</span><span class="s8">,</span><span class="s1"> w</span><span class="s8">,</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#2962ff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> w </span><span class="s8">-</span><span class="s1"> </span><span class="s13">80</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> h</span><span class="s8">*</span><span class="s13">0.4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">60</span><span class="s8">,</span><span class="s1"> </span><span class="s13">120</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#448aff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s13">50</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">+</span><span class="s1"> </span><span class="s13">50</span><span class="s8">,</span><span class="s1"> </span><span class="s13">40</span><span class="s8">,</span><span class="s1"> </span><span class="s13">50</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// --- [NEW] 우주 댄스 로직 ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> triggerSpaceDance</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isSpaceMode</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>isSpaceMode </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>spaceModeTimer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">500</span><span class="s8">;</span><span class="s1"> </span><span class="s14">// 지속 시간</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s14">// 섬광 효과</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> flash </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">createElement</span><span class="s8">(</span><span class="s10">'div'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">position </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'fixed'</span><span class="s8">;</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">top</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">left</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">width</span><span class="s8">=</span><span class="s10">'100%'</span><span class="s8">;</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">height</span><span class="s8">=</span><span class="s10">'100%'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">background </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'white'</span><span class="s8">;</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">zIndex </span><span class="s8">=</span><span class="s1"> </span><span class="s13">9999</span><span class="s8">;</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">transition </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'opacity 0.5s'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s8">.</span><span class="s1">body</span><span class="s8">.</span><span class="s1">appendChild</span><span class="s8">(</span><span class="s1">flash</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span><span class="s1"> setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> flash</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(),</span><span class="s1"> </span><span class="s13">500</span><span class="s8">);</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s13">100</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// 모두 중앙으로 소환 + 춤추기 상태</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">[...</span><span class="s1">humans</span><span class="s8">,</span><span class="s1"> </span><span class="s8">...</span><span class="s1">animals</span><span class="s8">].</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">ent </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ent</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ent</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()-</span><span class="s13">0.5</span><span class="s8">)*</span><span class="s13">300</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ent</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()-</span><span class="s13">0.5</span><span class="s8">)*</span><span class="s13">200</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ent</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">=</span><span class="s1"> ent</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span><span class="s1"> ent</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">=</span><span class="s1"> ent</span><span class="s8">.</span><span class="s1">y</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s11">class</span><span class="s4"> </span><span class="s1">Particle</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">constructor</span><span class="s8">(</span><span class="s1">tx</span><span class="s8">,</span><span class="s1"> ty</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">tx </span><span class="s8">=</span><span class="s1"> tx</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">ty </span><span class="s8">=</span><span class="s1"> ty</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> width</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">color </span><span class="s8">=</span><span class="s1"> </span><span class="s12">CONFIG</span><span class="s8">.</span><span class="s1">colors</span><span class="s8">[</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">CONFIG</span><span class="s8">.</span><span class="s1">colors</span><span class="s8">.</span><span class="s1">length</span><span class="s8">)];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">size </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">1</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">speed </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.05</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">0.02</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">angle </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>update</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> dx </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">tx </span><span class="s8">-</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> dy </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">ty </span><span class="s8">-</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+=</span><span class="s1"> dx </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.05</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+=</span><span class="s1"> dy </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.05</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">angle </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">speed</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>draw</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">globalAlpha </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0.5</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">angle</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.5</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">globalAlpha </span><span class="s8">=</span><span class="s1"> </span><span class="s13">1</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">class</span><span class="s1"> </span><span class="s12">Heart</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">constructor</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> x</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> y</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">size </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">5</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">8</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">speedY </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">1</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">life </span><span class="s8">=</span><span class="s1"> </span><span class="s13">1.0</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#ff69b4'</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>update</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">speedY</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">life </span><span class="s8">-=</span><span class="s1"> </span><span class="s13">0.02</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>draw</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">life </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">save</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">globalAlpha </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">life</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">bezierCurveTo</span><span class="s8">(-</span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">/</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">/</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">/</span><span class="s13">3</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">bezierCurveTo</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">/</span><span class="s13">3</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">/</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">/</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">class</span><span class="s1"> </span><span class="s12">Entity</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">constructor</span><span class="s8">()</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'IDLE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">100</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">=</span><span class="s1"> </span><span class="s13">1</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>updateMovement</span><span class="s8">(</span><span class="s1">speed </span><span class="s8">=</span><span class="s1"> </span><span class="s13">1</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'WALK'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'RUN'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> dx </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">-</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> dy </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">-</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> dist </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">(</span><span class="s1">dx</span><span class="s8">*</span><span class="s1">dx </span><span class="s8">+</span><span class="s1"> dy</span><span class="s8">*</span><span class="s1">dy</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dist </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'IDLE'</span><span class="s8">;</span><span class="s1"> isSpaceMode </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s14">// 복귀 완료</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'IDLE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">50</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">100</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dx </span><span class="s8">/</span><span class="s1"> dist</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> speed</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dy </span><span class="s8">/</span><span class="s1"> dist</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> speed</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">=</span><span class="s1"> dx </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s13">0</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s8">-</span><span class="s13">1</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>checkClick</span><span class="s8">(</span><span class="s1">mx</span><span class="s8">,</span><span class="s1"> my</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">return</span><span class="s1"> </span><span class="s8">(</span><span class="s1">mx </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> </span><span class="s13">25</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> mx </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s13">25</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> my </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> </span><span class="s13">60</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> my </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+</span><span class="s1"> </span><span class="s13">10</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">class</span><span class="s4"> </span><span class="s12">Human</span><span class="s4"> </span><span class="s1">extends</span><span class="s4"> </span><span class="s12">Entity</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">constructor</span><span class="s8">(</span><span class="s1">data</span><span class="s8">,</span><span class="s1"> idx</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">super</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">type </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">room</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rw </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rh </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rx </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">%</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rw</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> ry </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> rx </span><span class="s8">+</span><span class="s1"> rw</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> ry </span><span class="s8">+</span><span class="s1"> rh</span><span class="s8">/</span><span class="s13">2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">50</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>setRandomTarget</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rw </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rh </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> roomIdx </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// [FIX] 다른 방 방문 확률 증가 (20% -&gt; 40%)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.4</span><span class="s8">)</span><span class="s1"> roomIdx </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rx </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">roomIdx </span><span class="s8">%</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rw</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> ry </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s1">roomIdx </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">=</span><span class="s1"> rx </span><span class="s8">+</span><span class="s1"> </span><span class="s13">50</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rw </span><span class="s8">-</span><span class="s1"> </span><span class="s13">100</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">=</span><span class="s1"> ry </span><span class="s8">+</span><span class="s1"> rh</span><span class="s8">*</span><span class="s13">0.6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rh</span><span class="s8">*</span><span class="s13">0.3</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>returnHome</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rw </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rh </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rx </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">%</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rw</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> ry </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">=</span><span class="s1"> rx </span><span class="s8">+</span><span class="s1"> rw</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">=</span><span class="s1"> ry </span><span class="s8">+</span><span class="s1"> rh</span><span class="s8">/</span><span class="s13">2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">50</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>update</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isPaused</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// [NEW] 우주 댄스 모드</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isSpaceMode </span><span class="s8">&amp;&amp;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>spaceModeTimer</span><span class="s8">--;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">spaceModeTimer </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">)</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">returnHome</span><span class="s8">();</span><span class="s1"> </span><span class="s14">// 시간 끝나면 복귀</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s8">;</span><span class="s1"> </span><span class="s14">// 춤만 춤</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">updateMovement</span><span class="s8">(</span><span class="s13">5</span><span class="s8">);</span><span class="s1"> </span><span class="s14">// 빠른 속도로 복귀</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer</span><span class="s8">--;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> r </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">();</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// [FIX] 하연이 AI 작업 확률 (더 증가: 0.6 -&gt; 0.8)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">name </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'심하연'</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.8</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'AI_WORK'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">600</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> rw </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rh </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">=</span><span class="s1"> rw </span><span class="s8">-</span><span class="s1"> </span><span class="s13">80</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">=</span><span class="s1"> rh </span><span class="s8">+</span><span class="s1"> rh</span><span class="s8">*</span><span class="s13">0.6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s13">40</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.3</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'WALK'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">setRandomTarget</span><span class="s8">();</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">300</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'PHONE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">300</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.65</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'READ'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">400</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.75</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'WRITE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">400</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.85</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'CLAP'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">200</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">name </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'정소영'</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.95</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'PHOTO'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">250</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'SLEEP'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">300</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'AI_WORK'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> dx </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">-</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> dy </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">-</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> dist </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">(</span><span class="s1">dx</span><span class="s8">*</span><span class="s1">dx </span><span class="s8">+</span><span class="s1"> dy</span><span class="s8">*</span><span class="s1">dy</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dist </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s13">5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dx</span><span class="s8">/</span><span class="s1">dist</span><span class="s8">)*</span><span class="s13">1.5</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dy</span><span class="s8">/</span><span class="s1">dist</span><span class="s8">)*</span><span class="s13">1.5</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">=</span><span class="s1"> dx</span><span class="s8">&gt;</span><span class="s13">0</span><span class="s8">?</span><span class="s13">1</span><span class="s1">:-</span><span class="s13">1</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">=</span><span class="s1"> </span><span class="s13">1</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">updateMovement</span><span class="s8">(</span><span class="s13">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>draw</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">save</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// [NEW] 우주복 그리기 (DANCE or FLY_HOME)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s14">// 춤 동작 (위아래 + 회전)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> danceBob </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.01</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">5</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> danceBob</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.005</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s14">// 나는 동작 (기울기)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.5</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// 우주복 (흰색 + 둥근 헬멧)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">15</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">30</span><span class="s8">,</span><span class="s1"> </span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">10</span><span class="s8">);</span><span class="s1"> </span><span class="s14">// 몸통</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// 팔</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> armWag </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.02</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">10</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">18</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> armWag</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">18</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> armWag</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">18</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">18</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// 헬멧</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#e0f7fa'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth</span><span class="s8">=</span><span class="s13">3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">50</span><span class="s8">,</span><span class="s1"> </span><span class="s13">16</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// 얼굴 (헬멧 안)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fce4d4'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">50</span><span class="s8">,</span><span class="s1"> </span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">3</span><span class="s8">,-</span><span class="s13">51</span><span class="s8">,</span><span class="s13">1.5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">3</span><span class="s8">,-</span><span class="s13">51</span><span class="s8">,</span><span class="s13">1.5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// 다리</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(-</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">15</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">15</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s8">;</span><span class="s1"> </span><span class="s14">// 우주복 그리면 끝</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// --- 기존 평상복 그리기 ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">===</span><span class="s1"> </span><span class="s8">-</span><span class="s13">1</span><span class="s8">)</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">scale</span><span class="s8">(-</span><span class="s13">1</span><span class="s8">,</span><span class="s1"> </span><span class="s13">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'SLEEP'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'WRITE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">15</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'rgba(0,0,0,0.2)'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">15</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">40</span><span class="s8">,</span><span class="s1"> </span><span class="s13">24</span><span class="s8">,</span><span class="s1"> </span><span class="s13">40</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> legOffset </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'WALK'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'AI_WORK'</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s13">490</span><span class="s8">))</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.01</span><span class="s8">)*</span><span class="s13">5</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(-</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">15</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> legOffset</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">15</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> legOffset</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'READ'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">25</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">20</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#3b82f6'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'PHONE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">30</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#111'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">42</span><span class="s8">,</span><span class="s1"> </span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">16</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#81d4fa'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">9</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">41</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'WRITE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">25</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">18</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">28</span><span class="s8">,</span><span class="s1"> </span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'CLAP'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> clapY </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.02</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">5</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">30</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> clapY</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'PHOTO'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">35</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#111'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">48</span><span class="s8">,</span><span class="s1"> </span><span class="s13">16</span><span class="s8">,</span><span class="s1"> </span><span class="s13">12</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">16</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">42</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#eee'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">50</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'AI_WORK'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">30</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#cfd8dc'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">31</span><span class="s8">,</span><span class="s1"> </span><span class="s13">16</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">25</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fce4d4'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> hair </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">hair</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">13</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">hair </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'SHORT'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(-</span><span class="s13">13</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(-</span><span class="s13">13</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">38</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(-</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">13</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">13</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">38</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">hair </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'BOB'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(-</span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">15</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">9</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">15</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">hair </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'MEDIUM'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(-</span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">16</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">16</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">hair </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'PONYTAIL'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">38</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">1.5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'PHOTO'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">45</span><span class="s8">,</span><span class="s1"> </span><span class="s13">1.5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">42</span><span class="s8">,</span><span class="s1"> </span><span class="s13">1</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> </span><span class="s13">1</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(-</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">39</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">quadraticCurveTo</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">37</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">39</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">save</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(-</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">56</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(-</span><span class="s13">0.2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#ef4444'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">15</span><span class="s8">,</span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,-</span><span class="s13">15</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">2</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s13">19</span><span class="s8">,</span><span class="s13">5</span><span class="s8">,</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,-</span><span class="s13">15</span><span class="s8">,</span><span class="s13">3</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">class</span><span class="s4"> </span><span class="s12">Animal</span><span class="s4"> </span><span class="s1">extends</span><span class="s4"> </span><span class="s12">Entity</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">constructor</span><span class="s8">(</span><span class="s1">data</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">super</span><span class="s8">();</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">isCat </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">id </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'CAT'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'IDLE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">angryTimer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">room</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rw </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rh </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rx </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">%</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rw</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> ry </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> rx </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rw</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> ry </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// [FIX] 동물 랜덤 이동 범위 제한 (자기 방)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>setRandomTarget</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rw </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rh </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> rx </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">%</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rw</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> ry </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">homeRoom </span><span class="s8">/</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> rh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetX </span><span class="s8">=</span><span class="s1"> rx </span><span class="s8">+</span><span class="s1"> </span><span class="s13">20</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rw </span><span class="s8">-</span><span class="s1"> </span><span class="s13">40</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">targetY </span><span class="s8">=</span><span class="s1"> ry </span><span class="s8">+</span><span class="s1"> rh</span><span class="s8">*</span><span class="s13">0.4</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rh</span><span class="s8">*</span><span class="s13">0.6</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s13">20</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>returnHome</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">setRandomTarget</span><span class="s8">();</span><span class="s1"> </span><span class="s14">// 방 안의 랜덤 위치</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>update</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isPaused</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// [NEW] 우주 댄스</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isSpaceMode </span><span class="s8">&amp;&amp;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">spaceModeTimer </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">)</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">returnHome</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">updateMovement</span><span class="s8">(</span><span class="s13">5</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ANGRY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">angryTimer</span><span class="s8">--;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">angryTimer </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'IDLE'</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">angryTimer </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s13">40</span><span class="s8">)</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-=</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">angryTimer </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s13">20</span><span class="s8">)</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+=</span><span class="s1"> </span><span class="s13">2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer</span><span class="s8">--;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> r </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">isCat</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.3</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'SIT'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">300</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'JUMP'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">60</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.8</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'WALK'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">setRandomTarget</span><span class="s8">();</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">300</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'IDLE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">200</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.3</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'RUN'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">setRandomTarget</span><span class="s8">();</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">150</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'LIE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">400</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">r </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s13">0.8</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'WALK'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">setRandomTarget</span><span class="s8">();</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">300</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'IDLE'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">200</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> speed </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">isCat </span><span class="s8">?</span><span class="s1"> </span><span class="s13">1</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s13">1.5</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'RUN'</span><span class="s8">)</span><span class="s1"> speed </span><span class="s8">=</span><span class="s1"> </span><span class="s13">2.5</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">updateMovement</span><span class="s8">(</span><span class="s1">speed</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>triggerAngry</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">isCat</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'ANGRY'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">angryTimer </span><span class="s8">=</span><span class="s1"> </span><span class="s13">60</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>draw</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">save</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// [NEW] 동물 우주복</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'FLY_HOME'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'DANCE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> danceBob </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.01</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">5</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> danceBob</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.005</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.5</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// 우주복 (작은 둥근 형태)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// 헬멧</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#e0f7fa'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth</span><span class="s8">=</span><span class="s13">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// 얼굴 (헬멧 안)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">3</span><span class="s8">,-</span><span class="s13">11</span><span class="s8">,</span><span class="s13">1.5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">3</span><span class="s8">,-</span><span class="s13">11</span><span class="s8">,</span><span class="s13">1.5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">direction </span><span class="s8">===</span><span class="s1"> </span><span class="s8">-</span><span class="s13">1</span><span class="s8">)</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">scale</span><span class="s8">(-</span><span class="s13">1</span><span class="s8">,</span><span class="s1"> </span><span class="s13">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> yOffset </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'JUMP'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> yOffset </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">((</span><span class="s13">60</span><span class="s8">-</span><span class="s11">this</span><span class="s8">.</span><span class="s1">timer</span><span class="s8">)/</span><span class="s13">60</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">40</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ANGRY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">((</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()-</span><span class="s13">0.5</span><span class="s8">)*</span><span class="s13">0.2</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> bodyBob </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span><span class="s1"> </span><span class="s11">let</span><span class="s1"> bodyTilt </span><span class="s8">=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'WALK'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'RUN'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> speedFactor </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'RUN'</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s13">0.4</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s13">0.2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> walkCycle </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> speedFactor</span><span class="s8">;</span><span class="s1"> bodyBob </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s1">walkCycle </span><span class="s8">*</span><span class="s1"> </span><span class="s13">2</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">1.5</span><span class="s8">;</span><span class="s1"> bodyTilt </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s1">walkCycle</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">0.05</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> yOffset </span><span class="s8">+</span><span class="s1"> bodyBob</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(</span><span class="s1">bodyTilt</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'rgba(0,0,0,0.2)'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> yOffset </span><span class="s8">-</span><span class="s1"> bodyBob</span><span class="s8">,</span><span class="s1"> </span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'SIT'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">9</span><span class="s8">,</span><span class="s1"> </span><span class="s13">11</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">11</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'LIE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">28</span><span class="s8">,</span><span class="s1"> </span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ANGRY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(-</span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">28</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">ear </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'PUFFY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">7</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">7</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(-</span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">7</span><span class="s8">,</span><span class="s1"> </span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">7</span><span class="s8">,</span><span class="s1"> </span><span class="s13">24</span><span class="s8">,</span><span class="s1"> </span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">7</span><span class="s8">);</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">id </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'COCKER2'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">sub</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">5</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'WALK'</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'RUN'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> legSpeed </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'RUN'</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s13">0.4</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s13">0.2</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> l1 </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s1">legSpeed</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">6</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> l2 </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s1">legSpeed </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s13">6</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'rgba(0,0,0,0.1)'</span><span class="s8">;</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">10</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> l2</span><span class="s8">*</span><span class="s13">0.8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> l1</span><span class="s8">*</span><span class="s13">0.8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">10</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> l1</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> l2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'SIT'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'LIE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">14</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s13">10</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">6</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">2</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ANGRY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth</span><span class="s8">=</span><span class="s13">3</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">18</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">10</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'white'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth</span><span class="s8">=</span><span class="s13">1</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">19</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">11</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">23</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">15</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> headY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s13">10</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'SIT'</span><span class="s8">)</span><span class="s1"> headY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s13">18</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'LIE'</span><span class="s8">)</span><span class="s1"> headY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s13">4</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">,</span><span class="s1"> </span><span class="s13">9</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">id </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'COCKER2'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">sub </span><span class="s8">:</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">ear </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'POINTY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(-</span><span class="s13">6</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">6</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(-</span><span class="s13">9</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">12</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(-</span><span class="s13">3</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">8</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">6</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">6</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">9</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">12</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">3</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">8</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">ear </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'PUFFY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">8</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">,</span><span class="s13">5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">,</span><span class="s13">5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(-</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">+</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0.2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(</span><span class="s13">8</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">+</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">4</span><span class="s8">,</span><span class="s1"> </span><span class="s13">8</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">0.2</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ANGRY'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> </span><span class="s13">1.5</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(-</span><span class="s13">5</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">-</span><span class="s13">3</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(-</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(-</span><span class="s13">5</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">+</span><span class="s13">3</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">5</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">-</span><span class="s13">3</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">5</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">+</span><span class="s13">3</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(-</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">+</span><span class="s13">4</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">+</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">+</span><span class="s13">4</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(-</span><span class="s13">3</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">1</span><span class="s8">,</span><span class="s13">1.5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">3</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">-</span><span class="s13">1</span><span class="s8">,</span><span class="s13">1.5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">ellipse</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1">headY</span><span class="s8">+</span><span class="s13">3</span><span class="s8">,</span><span class="s13">1.5</span><span class="s8">,</span><span class="s13">1</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">save</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(-</span><span class="s13">3</span><span class="s8">,</span><span class="s1"> headY</span><span class="s8">-</span><span class="s13">8</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(-</span><span class="s13">0.2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#ef4444'</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">12</span><span class="s8">,</span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s13">6</span><span class="s8">,-</span><span class="s13">12</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">;</span><span class="s1"> drawRoundRect</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> </span><span class="s8">-</span><span class="s13">1</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s13">14</span><span class="s8">,</span><span class="s13">4</span><span class="s8">,</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s13">6</span><span class="s8">,-</span><span class="s13">12</span><span class="s8">,</span><span class="s13">2.5</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s12">Math</span><span class="s8">.</span><span class="s12">PI</span><span class="s8">*</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">type</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> </span><span class="s13">3</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineCap</span><span class="s8">=</span><span class="s10">'round'</span><span class="s8">;</span><span class="s1"> </span><span class="s11">let</span><span class="s1"> tailWag </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.02</span><span class="s8">)*</span><span class="s13">5</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">state </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ANGRY'</span><span class="s8">)</span><span class="s1"> tailWag </span><span class="s8">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">()*</span><span class="s13">0.1</span><span class="s8">)*</span><span class="s13">10</span><span class="s8">;</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(-</span><span class="s13">12</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(-</span><span class="s13">18</span><span class="s8">,</span><span class="s1"> tailWag </span><span class="s8">-</span><span class="s1"> </span><span class="s13">5</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> init</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>width </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerWidth</span><span class="s8">;</span><span class="s1"> height </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerHeight</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>canvas</span><span class="s8">.</span><span class="s1">width </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">;</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">height </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>createParticles</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>humans </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span><span class="s1"> </span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s13">4</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> humans</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s12">Human</span><span class="s8">(</span><span class="s12">HUMAN_TYPES</span><span class="s8">[</span><span class="s1">i</span><span class="s8">],</span><span class="s1"> i</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>animals </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span><span class="s1"> </span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s13">4</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> animals</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s12">Animal</span><span class="s8">(</span><span class="s12">ANIMAL_TYPES</span><span class="s8">[</span><span class="s1">i</span><span class="s8">]));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> createParticles</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>particles </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> tCanvas </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">createElement</span><span class="s8">(</span><span class="s10">'canvas'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> tCtx </span><span class="s8">=</span><span class="s1"> tCanvas</span><span class="s8">.</span><span class="s1">getContext</span><span class="s8">(</span><span class="s10">'2d'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tCanvas</span><span class="s8">.</span><span class="s1">width </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">;</span><span class="s1"> tCanvas</span><span class="s8">.</span><span class="s1">height </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span>tCtx</span><span class="s8">.</span><span class="s4">font </span><span class="s8">=</span><span class="s4"> </span><span class="s1">'900 100px "Pretendard"'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tCtx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'white'</span><span class="s8">;</span><span class="s1"> tCtx</span><span class="s8">.</span><span class="s1">textAlign </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'center'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tCtx</span><span class="s8">.</span><span class="s1">textBaseline </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'middle'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tCtx</span><span class="s8">.</span><span class="s1">fillText</span><span class="s8">(</span><span class="s12">CONFIG</span><span class="s8">.</span><span class="s1">text</span><span class="s8">,</span><span class="s1"> width</span><span class="s8">/</span><span class="s13">2</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">/</span><span class="s13">2</span><span class="s8">);</span><span class="s1"> </span><span class="s14">// 중앙에 배치</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">try</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> data </span><span class="s8">=</span><span class="s1"> tCtx</span><span class="s8">.</span><span class="s1">getImageData</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s13">0</span><span class="s8">,</span><span class="s1">width</span><span class="s8">,</span><span class="s1">height</span><span class="s8">).</span><span class="s1">data</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> y</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> y</span><span class="s8">&lt;</span><span class="s1">height</span><span class="s8">;</span><span class="s1"> y</span><span class="s8">+=</span><span class="s13">8</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> x</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> x</span><span class="s8">&lt;</span><span class="s1">width</span><span class="s8">;</span><span class="s1"> x</span><span class="s8">+=</span><span class="s13">8</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">data</span><span class="s8">[(</span><span class="s1">y</span><span class="s8">*</span><span class="s1">width</span><span class="s8">+</span><span class="s1">x</span><span class="s8">)*</span><span class="s13">4</span><span class="s8">+</span><span class="s13">3</span><span class="s8">]</span><span class="s1"> </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s13">128</span><span class="s8">)</span><span class="s1"> particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s12">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1">y</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s13">40</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s12">Particle</span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()*</span><span class="s1">width</span><span class="s8">,</span><span class="s1"> </span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()*</span><span class="s1">height</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">function</span><span class="s1"> drawScene</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>ctx</span><span class="s8">.</span><span class="s1">clearRect</span><span class="s8">(</span><span class="s13">0</span><span class="s8">,</span><span class="s1"> </span><span class="s13">0</span><span class="s8">,</span><span class="s1"> width</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>drawRooms</span><span class="s8">(</span><span class="s1">ctx</span><span class="s8">,</span><span class="s1"> width</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> allEntities </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[...</span><span class="s1">humans</span><span class="s8">,</span><span class="s1"> </span><span class="s8">...</span><span class="s1">animals</span><span class="s8">];</span><span class="s1"> allEntities</span><span class="s8">.</span><span class="s1">sort</span><span class="s8">((</span><span class="s1">a</span><span class="s8">,</span><span class="s1">b</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> a</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> b</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>particles</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">p </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">update</span><span class="s8">();</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">draw</span><span class="s8">();</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>allEntities</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">e </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">update</span><span class="s8">();</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">draw</span><span class="s8">();</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>hearts</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">((</span><span class="s1">h</span><span class="s8">,</span><span class="s1"> i</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> h</span><span class="s8">.</span><span class="s1">update</span><span class="s8">();</span><span class="s1"> h</span><span class="s8">.</span><span class="s1">draw</span><span class="s8">();</span><span class="s1"> </span><span class="s11">if</span><span class="s8">(</span><span class="s1">h</span><span class="s8">.</span><span class="s1">life </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s13">0</span><span class="s8">)</span><span class="s1"> hearts</span><span class="s8">.</span><span class="s1">splice</span><span class="s8">(</span><span class="s1">i</span><span class="s8">,</span><span class="s1"> </span><span class="s13">1</span><span class="s8">);</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>requestAnimationFrame</span><span class="s8">(</span><span class="s1">drawScene</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>canvas</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> rect </span><span class="s8">=</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">getBoundingClientRect</span><span class="s8">();</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> mx </span><span class="s8">=</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">clientX </span><span class="s8">-</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">left</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> my </span><span class="s8">=</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">clientY </span><span class="s8">-</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">top</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> allEntities </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[...</span><span class="s1">humans</span><span class="s8">,</span><span class="s1"> </span><span class="s8">...</span><span class="s1">animals</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>allEntities</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">ent </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">ent</span><span class="s8">.</span><span class="s1">checkClick</span><span class="s8">(</span><span class="s1">mx</span><span class="s8">,</span><span class="s1"> my</span><span class="s8">))</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">ent </span><span class="s11">instanceof</span><span class="s1"> </span><span class="s12">Animal</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> ent</span><span class="s8">.</span><span class="s1">isCat</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ent</span><span class="s8">.</span><span class="s1">triggerAngry</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s13">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s13">3</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> hearts</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s12">Heart</span><span class="s8">(</span><span class="s1">ent</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s12">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()-</span><span class="s13">0.5</span><span class="s8">)*</span><span class="s13">20</span><span class="s8">,</span><span class="s1"> ent</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> </span><span class="s13">40</span><span class="s8">));</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'resize'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> width </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerWidth</span><span class="s8">;</span><span class="s1"> height </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerHeight</span><span class="s8">;</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">width </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">;</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">height </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">;</span><span class="s1"> init</span><span class="s8">();</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s13">200</span><span class="s8">);</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s8">.</span><span class="s1">togglePause </span><span class="s8">=</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> isPaused </span><span class="s8">=</span><span class="s1"> </span><span class="s8">!</span><span class="s1">isPaused</span><span class="s8">;</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'btn-pause'</span><span class="s8">).</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> isPaused </span><span class="s8">?</span><span class="s1"> </span><span class="s10">'▶'</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s10">'⏸'</span><span class="s8">;</span><span class="s1"> </span><span class="s8">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s8">.</span><span class="s1">resetSimulation </span><span class="s8">=</span><span class="s1"> init</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s8">.</span><span class="s1">closeModal </span><span class="s8">=</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'my-msg-modal'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display</span><span class="s8">=</span><span class="s10">'none'</span><span class="s8">;</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'modal-overlay'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display</span><span class="s8">=</span><span class="s10">'none'</span><span class="s8">;</span><span class="s1"> </span><span class="s8">};</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> sendBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'send-btn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> msgInput </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'msg-input'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> senderSelect </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'sender-select'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s11">const</span><span class="s1"> receiverSelect </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'receiver-select'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>sendBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s11">async</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> sender </span><span class="s8">=</span><span class="s1"> senderSelect</span><span class="s8">.</span><span class="s1">value</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> receiver </span><span class="s8">=</span><span class="s1"> receiverSelect</span><span class="s8">.</span><span class="s1">value</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> rawText </span><span class="s8">=</span><span class="s1"> msgInput</span><span class="s8">.</span><span class="s1">value</span><span class="s8">.</span><span class="s1">trim</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s8">(!</span><span class="s1">rawText</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s1"> alert</span><span class="s8">(</span><span class="s10">'메시지 내용을 입력해주세요!'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> finalMessage </span><span class="s8">=</span><span class="s1"> rawText</span><span class="s8">;</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">sender </span><span class="s8">!==</span><span class="s1"> </span><span class="s10">'익명'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> finalMessage </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`[</span><span class="s8">${</span><span class="s1">sender</span><span class="s8">}</span><span class="s10">] </span><span class="s8">${</span><span class="s1">rawText</span><span class="s8">}</span><span class="s10">`</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> orgBtn </span><span class="s8">=</span><span class="s1"> sendBtn</span><span class="s8">.</span><span class="s1">innerText</span><span class="s8">;</span><span class="s1"> sendBtn</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'🚀'</span><span class="s8">;</span><span class="s1"> sendBtn</span><span class="s8">.</span><span class="s1">disabled </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">try</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">await</span><span class="s1"> fetch</span><span class="s8">(</span><span class="s12">GOOGLE_SCRIPT_URL</span><span class="s8">,</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> method</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'POST'</span><span class="s8">,</span><span class="s1"> mode</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'no-cors'</span><span class="s8">,</span><span class="s1"> headers</span><span class="s8">:</span><span class="s1"> </span><span class="s8">{</span><span class="s10">'Content-Type'</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'text/plain'</span><span class="s8">},</span><span class="s1"> body</span><span class="s8">:</span><span class="s1"> </span><span class="s12">JSON</span><span class="s8">.</span><span class="s1">stringify</span><span class="s8">({</span><span class="s1"> name</span><span class="s8">:</span><span class="s1"> receiver</span><span class="s8">,</span><span class="s1"> text</span><span class="s8">:</span><span class="s1"> finalMessage </span><span class="s8">})</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>alert</span><span class="s8">(</span><span class="s10">'메시지 전송 완료! 📨'</span><span class="s8">);</span><span class="s1"> msgInput</span><span class="s8">.</span><span class="s1">value </span><span class="s8">=</span><span class="s1"> </span><span class="s10">''</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">catch</span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> alert</span><span class="s8">(</span><span class="s10">'전송 실패 ㅠㅠ'</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s11">finally</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> sendBtn</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> orgBtn</span><span class="s8">;</span><span class="s1"> sendBtn</span><span class="s8">.</span><span class="s1">disabled </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s8">.</span><span class="s1">openMyMsgModal </span><span class="s8">=</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'modal-overlay'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display</span><span class="s8">=</span><span class="s10">'block'</span><span class="s8">;</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'my-msg-modal'</span><span class="s8">).</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display</span><span class="s8">=</span><span class="s10">'flex'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'my-name-auth'</span><span class="s8">).</span><span class="s1">value </span><span class="s8">=</span><span class="s1"> </span><span class="s10">''</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">};</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>window</span><span class="s8">.</span><span class="s1">checkMyMessages </span><span class="s8">=</span><span class="s1"> </span><span class="s11">async</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> name </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'my-name-auth'</span><span class="s8">).</span><span class="s1">value</span><span class="s8">.</span><span class="s1">trim</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">if</span><span class="s8">(!</span><span class="s1">name</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s1"> alert</span><span class="s8">(</span><span class="s10">'이름을 입력해주세요!'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> con </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'msg-list-container'</span><span class="s8">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span>con</span><span class="s8">.</span><span class="s4">innerHTML </span><span class="s8">=</span><span class="s4"> </span><span class="s1">'&lt;div class="spinner"&gt;&lt;/div&gt;&lt;div style="text-align:center; color:#64748b;"&gt;우주에서 편지 가져오는 중...&lt;/div&gt;'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">try</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> res </span><span class="s8">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> fetch</span><span class="s8">(</span><span class="s12">GOOGLE_SCRIPT_URL</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s10">'?t='</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">Date</span><span class="s8">.</span><span class="s1">now</span><span class="s8">());</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> data </span><span class="s8">=</span><span class="s1"> </span><span class="s11">await</span><span class="s1"> res</span><span class="s8">.</span><span class="s1">json</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> myMsgs </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">filter</span><span class="s8">(</span><span class="s1">r </span><span class="s8">=&gt;</span><span class="s1"> r</span><span class="s8">[</span><span class="s13">1</span><span class="s8">]</span><span class="s1"> </span><span class="s8">===</span><span class="s1"> name </span><span class="s8">||</span><span class="s1"> r</span><span class="s8">[</span><span class="s13">1</span><span class="s8">]</span><span class="s1"> </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ALL'</span><span class="s8">).</span><span class="s1">reverse</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>con</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> </span><span class="s10">''</span><span class="s8">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s8">(</span><span class="s4">myMsgs</span><span class="s8">.</span><span class="s4">length </span><span class="s8">===</span><span class="s4"> </span><span class="s13">0</span><span class="s8">)</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> con</span><span class="s8">.</span><span class="s4">innerHTML </span><span class="s8">=</span><span class="s4"> </span><span class="s1">`&lt;div style="text-align:center; margin-top:100px; color:#94a3b8;"&gt;도착한 편지가 없어요 😢&lt;br&gt;친구들에게 먼저 보내보세요!&lt;/div&gt;`</span><span class="s8">;</span><span class="s4"> </span><span class="s11">return</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>myMsgs</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">m </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> date </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s12">Date</span><span class="s8">(</span><span class="s1">m</span><span class="s8">[</span><span class="s13">0</span><span class="s8">]);</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> dateStr </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`</span><span class="s8">${</span><span class="s1">date</span><span class="s8">.</span><span class="s1">getMonth</span><span class="s8">()+</span><span class="s13">1</span><span class="s8">}</span><span class="s10">/</span><span class="s8">${</span><span class="s1">date</span><span class="s8">.</span><span class="s1">getDate</span><span class="s8">()}</span><span class="s10"> </span><span class="s8">${</span><span class="s1">date</span><span class="s8">.</span><span class="s1">getHours</span><span class="s8">()}</span><span class="s10">:</span><span class="s8">${</span><span class="s12">String</span><span class="s8">(</span><span class="s1">date</span><span class="s8">.</span><span class="s1">getMinutes</span><span class="s8">()).</span><span class="s1">padStart</span><span class="s8">(</span><span class="s13">2</span><span class="s8">,</span><span class="s10">'0'</span><span class="s8">)}</span><span class="s10">`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> receiverName </span><span class="s8">=</span><span class="s1"> m</span><span class="s8">[</span><span class="s13">1</span><span class="s8">]</span><span class="s1"> </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ALL'</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s10">'📢 모두에게'</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s10">`To. </span><span class="s8">${</span><span class="s1">m</span><span class="s8">[</span><span class="s13">1</span><span class="s8">]}</span><span class="s10">`</span><span class="s8">;</span><span class="s1"> </span><span class="s11">const</span><span class="s1"> content </span><span class="s8">=</span><span class="s1"> m</span><span class="s8">[</span><span class="s13">2</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> d </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">createElement</span><span class="s8">(</span><span class="s10">'div'</span><span class="s8">);</span><span class="s1"> d</span><span class="s8">.</span><span class="s1">className </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'post-it-card'</span><span class="s8">;</span><span class="s1"> d</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">padding</span><span class="s8">=</span><span class="s10">'15px'</span><span class="s8">;</span><span class="s1"> d</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">marginBottom</span><span class="s8">=</span><span class="s10">'10px'</span><span class="s8">;</span><span class="s1"> d</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">borderRadius </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'12px'</span><span class="s8">;</span><span class="s1"> d</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">border </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'1px solid #f1f5f9'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">m</span><span class="s8">[</span><span class="s13">1</span><span class="s8">]</span><span class="s1"> </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ALL'</span><span class="s8">)</span><span class="s1"> d</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">background </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#e0f2fe'</span><span class="s8">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>d</span><span class="s8">.</span><span class="s4">innerHTML </span><span class="s8">=</span><span class="s4"> </span><span class="s1">`&lt;div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; border-bottom:1px dashed rgba(0,0,0,0.1); padding-bottom:5px;"&gt;&lt;span style="font-weight:bold; color:#475569; font-size:0.9rem;"&gt;</span><span class="s8">${</span><span class="s4">receiverName</span><span class="s8">}</span><span class="s1">&lt;/span&gt;&lt;span style="font-size:0.75rem; color:#94a3b8;"&gt;</span><span class="s8">${</span><span class="s4">dateStr</span><span class="s8">}</span><span class="s1">&lt;/span&gt;&lt;/div&gt;&lt;div style="font-size:1rem; color:#334155; line-height:1.5; word-break:break-all;"&gt;</span><span class="s8">${</span><span class="s4">content</span><span class="s8">}</span><span class="s1">&lt;/div&gt;`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>con</span><span class="s8">.</span><span class="s1">appendChild</span><span class="s8">(</span><span class="s1">d</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s8">}</span><span class="s4"> </span><span class="s11">catch</span><span class="s8">(</span><span class="s4">e</span><span class="s8">)</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> con</span><span class="s8">.</span><span class="s4">innerHTML </span><span class="s8">=</span><span class="s4"> </span><span class="s1">'&lt;div style="text-align:center; margin-top:50px; color:#ef4444;"&gt;데이터를 불러오지 못했어요.&lt;br&gt;잠시 후 다시 시도해주세요.&lt;/div&gt;'</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">};</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
